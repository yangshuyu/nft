##api

>所有api


### api相关

#### 获取图层

##### api

```angular2html
http://8.140.45.122:8081/api/v1/layers
```

##### 请求方法与请求码
```angular2html
GET 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |

##### 返回数据

```angular2html
{
    "data": {
        "nacklace": [
            {
                "name": "bitcoin",
                "weight": 100,
                "fullpath": "nacklace/9-bitcoin:100{<Nacklace>Bitcoin}.png",
                "traits": [
                    [
                        "Nacklace",
                        "Bitcoin"
                    ]
                ]
            }
        ]
    },
    "code": 0,
    "message": ""
}
```

#### 生成图片并保存

#####api

```angular2html
http://8.140.45.122:8081/api/v1/combination/images
```
##### 请求方法与请求码
```angular2html
POST  201
```

##### 所需参数
```angular2html
{
	"data":{
		"background": ["1-Aquamarine:100{<Background>Aquamarine}.png"]
	}
}
```

##### 返回数据

```angular2html
{
    "data": {
        "name": "Bored Mummy Baby #1",
        "attributes": [
            {
                "trait_type": "Background",
                "value": "Aquamarine"
            },
            {
                "trait_type": "Fur",
                "value": "Natural"
            },
            {
                "trait_type": "Cloth",
                "value": "Magician"
            },
            {
                "trait_type": "Extra",
                "value": "Broken Bottle"
            },
            {
                "trait_type": "Earring",
                "value": "Golden Ethereum"
            },
            {
                "trait_type": "Eyewear",
                "value": "Tactical Goggles Yellow"
            },
            {
                "trait_type": "Hat",
                "value": "Blue Beanie"
            },
            {
                "trait_type": "Food",
                "value": "Pizza"
            },
            {
                "trait_type": "Nacklace",
                "value": "Golden"
            },
            {
                "trait_type": "Extra",
                "value": "Red Beam"
            }
        ],
        "description": "Bored Mummy Baby Waking Up (BMBWU) Collections series under Bored Mummy Waking Up NFT. Take good care of your  mummy baby, and great favor will be returned.",
        "timestamp": 1632299317,
        "layer": {
            "md5": "19adc38ac732b4fea9d8cd32b5ae2980",
            "background": "background/1-Aquamarine:100{<Background>Aquamarine}.png",
            "body": "body/2-cybereyes4:5{<Fur>Natural&<Eye>Cyber Green&<Face>Poker Face}.png",
            "cloth": "cloth/3-green:100{<Cloth>Magician}.png",
            "drink": "drink/4-bottle:100{<Extra>Broken Bottle}.png",
            "earring": "earring/5-eth_gold:100{<Earring>Golden Ethereum}.png",
            "eyewear": "eyewear/6-yellow:100{<Eyewear>Tactical Goggles Yellow}.png",
            "hat": "hat/7-blue_beanie:100{<Hat>Blue Beanie}.png",
            "mouth": "mouth/8-pizza:100{<Food>Pizza}.png",
            "nacklace": "nacklace/9-gold:100{<Nacklace>Golden}.png",
            "props": "props/10-lasereyes_red:9{<Extra>Red Beam}.png"
        }
    },
    "code": 0,
    "message": ""
}
```

#### 获取图片生成历史

##### api

```angular2html
http://8.140.45.122:8081/api/v1/images
```
##### 请求方法与请求码
```angular2html
POST 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |
 page                    | integer                      |     第几页      |  f  |
 per_page                     | integer                       |     没页个数      |  f  |
 conditions                     | dict                      |     具体查询数据      |  f  |

```angular2html
{
    "id": "cf3d1de59981be3db43cdc47d328318d",
    "name": "Nexhuman",
    "author": "Francesco Verso",
    "language": "Italian, English, Chinese",
    "image": "Lark20210615-184012.png",
    "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso",
    "images": [
        "Lark20210615-184012.png",
        "Lark20210615-184012.png"
    ],
    "context": "<p class=\"uk-text-largeuk-text-center\">"
}
```

##### 返回数据

```angular2html
[
    {
        "name": "Bored Mummy Baby #1",
        "attributes": [
            {
                "trait_type": "Background",
                "value": "Aquamarine"
            },
            {
                "trait_type": "Fur",
                "value": "Natural"
            },
            {
                "trait_type": "Cloth",
                "value": "Magician"
            },
            {
                "trait_type": "Extra",
                "value": "Broken Bottle"
            },
            {
                "trait_type": "Earring",
                "value": "Golden Ethereum"
            },
            {
                "trait_type": "Eyewear",
                "value": "Tactical Goggles Yellow"
            },
            {
                "trait_type": "Hat",
                "value": "Blue Beanie"
            },
            {
                "trait_type": "Food",
                "value": "Pizza"
            },
            {
                "trait_type": "Nacklace",
                "value": "Golden"
            },
            {
                "trait_type": "Extra",
                "value": "Red Beam"
            }
        ],
        "description": "Bored Mummy Baby Waking Up (BMBWU) Collections series under Bored Mummy Waking Up NFT. Take good care of your  mummy baby, and great favor will be returned.",
        "timestamp": 1632299317,
        "layer": {
            "md5": "19adc38ac732b4fea9d8cd32b5ae2980",
            "background": "background/1-Aquamarine:100{<Background>Aquamarine}.png",
            "body": "body/2-cybereyes4:5{<Fur>Natural&<Eye>Cyber Green&<Face>Poker Face}.png",
            "cloth": "cloth/3-green:100{<Cloth>Magician}.png",
            "drink": "drink/4-bottle:100{<Extra>Broken Bottle}.png",
            "earring": "earring/5-eth_gold:100{<Earring>Golden Ethereum}.png",
            "eyewear": "eyewear/6-yellow:100{<Eyewear>Tactical Goggles Yellow}.png",
            "hat": "hat/7-blue_beanie:100{<Hat>Blue Beanie}.png",
            "mouth": "mouth/8-pizza:100{<Food>Pizza}.png",
            "nacklace": "nacklace/9-gold:100{<Nacklace>Golden}.png",
            "props": "props/10-lasereyes_red:9{<Extra>Red Beam}.png"
        }
    }
]
```

#### 删除数据

##### api

```angular2html
http://8.140.45.122:8081/api/v1/images/<image_id>

image_id其实是md5值

```
##### 请求方法与请求码
```angular2html
DELETE 204
```

```angular2html
```

##### 返回数据

```angular2html
{}
```

#### 更新数据

##### api

```angular2html
http://8.140.45.122:8081/api/v1/images/<image_id>

image_id其实是md5值

```
##### 请求方法与请求码
```angular2html
PUT 200
```

```angular2html
```

##### 返回数据

```angular2html
{
    "data": {
        "name": "Bored Mummy Baby #1",
        "attributes": [
            {
                "trait_type": "Background",
                "value": "Aquamarine"
            },
            {
                "trait_type": "Fur",
                "value": "Natural"
            },
            {
                "trait_type": "Cloth",
                "value": "Magician"
            },
            {
                "trait_type": "Extra",
                "value": "Broken Bottle"
            },
            {
                "trait_type": "Earring",
                "value": "Golden Ethereum"
            },
            {
                "trait_type": "Eyewear",
                "value": "Tactical Goggles Yellow"
            },
            {
                "trait_type": "Hat",
                "value": "Blue Beanie"
            },
            {
                "trait_type": "Food",
                "value": "Pizza"
            },
            {
                "trait_type": "Nacklace",
                "value": "Golden"
            },
            {
                "trait_type": "Extra",
                "value": "Red Beam"
            }
        ],
        "description": "Bored Mummy Baby Waking Up (BMBWU) Collections series under Bored Mummy Waking Up NFT. Take good care of your  mummy baby, and great favor will be returned.",
        "timestamp": 1632299317,
        "layer": {
            "md5": "19adc38ac732b4fea9d8cd32b5ae2980",
            "background": "background/1-Aquamarine:100{<Background>Aquamarine}.png",
            "body": "body/2-cybereyes4:5{<Fur>Natural&<Eye>Cyber Green&<Face>Poker Face}.png",
            "cloth": "cloth/3-green:100{<Cloth>Magician}.png",
            "drink": "drink/4-bottle:100{<Extra>Broken Bottle}.png",
            "earring": "earring/5-eth_gold:100{<Earring>Golden Ethereum}.png",
            "eyewear": "eyewear/6-yellow:100{<Eyewear>Tactical Goggles Yellow}.png",
            "hat": "hat/7-blue_beanie:100{<Hat>Blue Beanie}.png",
            "mouth": "mouth/8-pizza:100{<Food>Pizza}.png",
            "nacklace": "nacklace/9-gold:100{<Nacklace>Golden}.png",
            "props": "props/10-lasereyes_red:9{<Extra>Red Beam}.png"
        }
    },
    "code": 0,
    "message": ""
}
```
