##api

>所有api


### api相关

####获取图层

#####api

```angular2html
http://8.140.45.122:8081/api/v1/layers
```

##### 请求方法与请求码
```angular2html
GET 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |

##### 返回数据

```angular2html
{
    "data": {
        "nacklace": [
            {
                "name": "bitcoin",
                "weight": 100,
                "fullpath": "nacklace/9-bitcoin:100{<Nacklace>Bitcoin}.png",
                "traits": [
                    [
                        "Nacklace",
                        "Bitcoin"
                    ]
                ]
            }
        ]
    },
    "code": 0,
    "message": ""
}
```

####生成图片并保存

#####api

```angular2html
http://8.140.45.122:8081/api/v1/images
```
##### 请求方法与请求码
```angular2html
POST  201
```

##### 所需参数
```angular2html
{
	"data":{
		"background": ["1-Aquamarine:100{<Background>Aquamarine}.png"]
	}
}
```


```angular2html
{
    "id": "cf3d1de59981be3db43cdc47d328318d",
    "name": "Nexhuman",
    "author": "Francesco Verso",
    "language": "Italian, English, Chinese",
    "image": "Lark20210615-184012.png",
    "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso",
    "images": [
        "Lark20210615-184012.png",
        "Lark20210615-184012.png"
    ],
    "context": "<p class=\"uk-text-largeuk-text-center\">"
}
```

##### 返回数据

```angular2html
{
    "data": {
        "id": "7b474226-adb8-466a-8da1-a17017a453e5",
        "attributes": [
            {
                "value": "1-Aquamarine:100{<Background>Aquamarine}.png",
                "trait_type": "BACKGROUND"
            },
            {
                "value": "2-blackeyes:5{<Fur>Natural&<Eye>Eyeless&<Face>Poker Face}.png",
                "trait_type": "BODY"
            },
            {
                "value": "3-blockdresses:100{<Cloth>Black Dresses}.png",
                "trait_type": "CLOTH"
            },
            {
                "value": "4-whiskey:100{<Drink>Whiskey}.png",
                "trait_type": "DRINK"
            },
            {
                "value": "5-golden:100{<Earring>Golden}.png",
                "trait_type": "EARRING"
            },
            {
                "value": "6-black:100{<Eyewear>Black Sunglass}.png",
                "trait_type": "EYEWEAR"
            },
            {
                "value": "7-laser_headband:100{<Hat>Laser Headband}.png",
                "trait_type": "HAT"
            },
            {
                "value": "8-lollipops2:100{<Food>Red Lollipop}.png",
                "trait_type": "MOUTH"
            },
            {
                "value": "9-scarf:100{<Nacklace>Scarf}.png",
                "trait_type": "NACKLACE"
            },
            {
                "value": "10-lasereyes_big:9{<Extra>Ice Ray}.png",
                "trait_type": "PROPS"
            }
        ],
        "name": "Bored Mummy Baby #1",
        "created_at": "2021-09-19 15:50:54",
        "url": "http://10.156.10.119:5002/files/images/7b474226-adb8-466a-8da1-a17017a453e5.png",
        "description": "Bored Mummy Baby Waking Up (BMBWU) Collections series under Bored Mummy Waking Up NFT. Take good care of your  mummy baby, and great favor will be returned."
    },
    "code": 0,
    "message": ""
}
```

####更新推荐作品

#####api

```angular2html
http://localhost:5002/api/v1/admin/books/<book_id>
```
##### 请求方法与请求码
```angular2html
PUT 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |
 name                     | string                        |     书籍名称      |  f  |
 author                     | string                        |     作者      |  f  |
 language                     | string                       |     语言      |  f  |
 title                     | string                        |     title      |  f  |
 images                     | list[string]                |     书籍合集      |  f  |
 context                     | string                        |     书籍具体内容      |  f  |
 doc                    | string                        |     附件名称     |  f  |

```angular2html
{
    "id": "cf3d1de59981be3db43cdc47d328318d",
    "name": "Nexhuman",
    "author": "Francesco Verso",
    "language": "Italian, English, Chinese",
    "image": "Lark20210615-184012.png",
    "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso",
    "images": [
        "Lark20210615-184012.png",
        "Lark20210615-184012.png"
    ],
    "context": "<p class=\"uk-text-largeuk-text-center\">"
}
```

##### 返回数据

```angular2html
{
    "data": {
        "image": "Lark20210615-184012.png",
        "images": [
            "Lark20210615-184012.png",
            "Lark20210615-184012.png"
        ],
        "author": "Francesco Verso",
        "language": "Italian, English, Chinese",
        "context": "<p class=\"uk-text-largeuk-text-center\">",
        "id": "e4ef7aa4-2e13-4e26-b162-fd867d49da4e",
        "cover": "http://localhost:8081/files/Lark20210615-184012.png",
        "name": "Nexhuman",
        "detail_images": [
            "http://localhost:8081/files/Lark20210615-184012.png",
            "http://localhost:8081/files/Lark20210615-184012.png"
        ],
        "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso"
    }
}
```

####删除推荐作品

#####api

```angular2html
http://localhost:5002/api/v1/admin/books/<book_id>
```
##### 请求方法与请求码
```angular2html
DELETE 204
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |

##### 返回数据

```angular2html
{}
```

####上传文件

#####api

```angular2html
http://localhost:5002/api/v1/admin/files
```
##### 请求方法与请求码
```angular2html
POST 201
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |
 file                     | file                        |     文件      |  true  |


##### 返回数据

```angular2html
{
    "data": [
        "Lark20210615-184021.png",
        "Lark20210615-184012.png"
    ]
}
```

### 官网平台相关

#####api

```angular2html
http://localhost:5002/api/v1/books
```

##### 请求方法与请求码
```angular2html
GET 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |
 page                     | integer                        |     页数      |    |
 per_page             | integer                     |      每页个数     |          |

##### 返回数据

```angular2html
{
    "data": [
        {
            "image": "Lark20210615-184012.png",
            "cover": "http://localhost:8081/files/Lark20210615-184012.png",
            "context": "<p class=\"uk-text-largeuk-text-center\">",
            "name": "Nexhuman",
            "detail_images": [
                "http://localhost:8081/files/Lark20210615-184012.png",
                "http://localhost:8081/files/Lark20210615-184012.png"
            ],
            "images": [
                "Lark20210615-184012.png",
                "Lark20210615-184012.png"
            ],
            "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso",
            "id": "e4ef7aa4-2e13-4e26-b162-fd867d49da4e",
            "author": "Francesco Verso",
            "language": "Italian, English, Chinese"
        }
    ],
    "has_more": false,
    "X-Total": 1,
    "X-Per-Page": 20
}
```


#### 作品推荐相关详情

#####api

```angular2html
http://localhost:5002/api/v1/books/<book_id>
```

##### 请求方法与请求码
```angular2html
GET 200
```

##### 所需参数
| Column | Type | Description | Required |
| --- | --- | --- | --- |

##### 返回数据

```angular2html
{
    "data": {
        "detail_images": [
            "http://localhost:8081/files/Lark20210615-184012.png",
            "http://localhost:8081/files/Lark20210615-184012.png"
        ],
        "author": "Francesco Verso",
        "name": "Nexhuman",
        "title": "Livido (Italian) / Nexhuman (English)<br>by Francesco Verso",
        "images": [
            "Lark20210615-184012.png",
            "Lark20210615-184012.png"
        ],
        "cover": "http://localhost:8081/files/Lark20210615-184012.png",
        "id": "e4ef7aa4-2e13-4e26-b162-fd867d49da4e",
        "language": "Italian, English, Chinese",
        "image": "Lark20210615-184012.png",
        "context": "<p class=\"uk-text-largeuk-text-center\">"
    }
}
```
